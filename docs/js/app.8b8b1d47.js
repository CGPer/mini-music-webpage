(function(t){function e(e){for(var i,o,a=e[0],c=e[1],l=e[2],u=0,d=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var a=s[o];0!==r[a]&&(i=!1)}i&&(n.splice(e--,1),t=c(c.s=s[0]))}return t}var i={},o={app:0},r={app:0},n=[];function a(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0a530845":"883ef22c","chunk-83846b1c":"d0169477","chunk-c36bbb52":"e6f3d471","chunk-fd20071e":"78ca70e1"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(t){var e=[],s={"chunk-0a530845":1,"chunk-83846b1c":1,"chunk-c36bbb52":1,"chunk-fd20071e":1};o[t]?e.push(o[t]):0!==o[t]&&s[t]&&e.push(o[t]=new Promise((function(e,s){for(var i="css/"+({}[t]||t)+"."+{"chunk-0a530845":"429a271f","chunk-83846b1c":"e2813efd","chunk-c36bbb52":"f0249d4b","chunk-fd20071e":"121f9fec"}[t]+".css",r=c.p+i,n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var l=n[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===r))return e()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){l=d[a],u=l.getAttribute("data-href");if(u===i||u===r)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||r,n=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=i,delete o[t],h.parentNode.removeChild(h),s(n)},h.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){o[t]=0})));var i=r[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,s){i=r[t]=[e,s]}));e.push(i[2]=n);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=a(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(h);var s=r[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",d.name="ChunkLoadError",d.type=i,d.request=o,s[1](d)}r[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(s,i,function(e){return t[e]}.bind(null,i));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"00ed":function(t,e,s){t.exports=s.p+"img/previous-song.a1e32de2.svg"},"034f":function(t,e,s){"use strict";var i=s("85ec"),o=s.n(i);o.a},"0687":function(t,e,s){t.exports=s.p+"img/default-album-img.f87c9596.jpg"},"11ad":function(t,e,s){},"11fd":function(t,e,s){t.exports=s.p+"img/list-forward.7e0dc947.svg"},"2b47":function(t,e,s){t.exports=s.p+"img/lyric.04fad959.svg"},"2e0a":function(t,e,s){},"2ed1":function(t,e,s){"use strict";var i=s("b577"),o=s.n(i);o.a},"2ef4":function(t,e,s){t.exports=s.p+"img/list-cycle.3511e486.svg"},3065:function(t,e,s){t.exports=s.p+"img/single-cycle.117bf69e.svg"},"395d":function(t,e,s){t.exports=s.p+"img/volume-mute.038e2ab7.svg"},"4b2a":function(t,e,s){"use strict";var i=s("d0c9"),o=s.n(i);o.a},"51f2":function(t,e,s){t.exports=s.p+"img/search.cb4c4886.svg"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"app-background",style:t.getBgStyle}),s("div",{staticClass:"app-background-above"},[s("left-nav"),s("middle-box"),s("right-bar")],1)])},r=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-nav"},[t._m(0),i("router-link",{staticClass:"discover",attrs:{to:"/Top100Page"}},[i("img",{staticClass:"discover-icon",attrs:{src:s("8b36")}}),i("div",{staticClass:"discover-text"},[t._v("发现")])]),i("router-link",{staticClass:"search",attrs:{to:"/SearchListPage"}},[i("img",{staticClass:"search-icon",attrs:{src:s("51f2")}}),i("div",{staticClass:"search-text"},[t._v("搜索")])]),i("router-link",{staticClass:"marked",attrs:{to:"/MarkedListPage"}},[i("img",{staticClass:"marked-icon",attrs:{src:s("c1b2")}}),i("div",{staticClass:"marked-text"},[t._v("喜欢")])]),i("router-link",{staticClass:"lyric",attrs:{to:"/LyricPage"}},[i("img",{staticClass:"lyric-icon",attrs:{src:s("2b47")}}),i("div",{staticClass:"lyric-text"},[t._v("歌词")])]),i("div",{staticClass:"playing-box"},[i("img",{style:1==t.$store.state.haveStarted?t.$store.state.albumImgStyle:"",attrs:{src:t.getAlbumImgUrl}}),i("div",{staticClass:"playing-song-name"},[t._v(" "+t._s(0==t.$store.state.currentList.length?"":t.$store.state.currentList[this.$store.state.currentListIndex].songname)+" ")]),i("div",{staticClass:"playing-singer-name"},[t._v(" "+t._s(0==t.$store.state.currentList.length?"":t.$store.state.currentList[this.$store.state.currentListIndex].singer.name)+" ")])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo-box"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:s("9b19"),width:"50px"}})]),i("div",{staticClass:"app-name"},[t._v("迷你音乐")])])}],c={name:"left-nav",data:function(){return{defaultAlbumImgUrl:s("0687"),albumImgUrl:null}},computed:{getAlbumImgUrl:function(){return 0==this.$store.state.currentList.length||"   "==this.$store.state.currentList[this.$store.state.currentListIndex].albumname?this.albumImgUrl=this.defaultAlbumImgUrl:this.albumImgUrl=this.$store.state.currentList[this.$store.state.currentListIndex].albumimg,this.albumImgUrl}}},l=c,u=(s("b04c"),s("2877")),d=Object(u["a"])(l,n,a,!1,null,null,null),h=d.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"middle-box"},[s("top-box"),s("view-box"),s("bottom-box")],1)},p=[],g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top-box"},[i("div",{staticClass:"back-or-forward"},[i("img",{attrs:{src:s("ccfe"),width:"20px"},on:{click:t.goBack}}),i("img",{attrs:{src:s("8620"),width:"20px"},on:{click:t.goForward}})]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchText,expression:"searchText",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索音乐"},domProps:{value:t.searchText},on:{change:t.searchSong,focus:function(e){t.isShowSearchHistory=!0},blur:[t.hideSearchHistory,function(e){return t.$forceUpdate()}],input:[function(e){e.target.composing||(t.searchText=e.target.value.trim())},function(e){t.isShowSearchHistory=!0}]}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearchHistory,expression:"isShowSearchHistory"}],staticClass:"search-history-box"},t._l(t.searchHistoryArr,(function(e,o){return i("div",{key:o,staticClass:"search-history-item"},[i("div",{staticClass:"search-history-block"},[i("div",{staticClass:"search-history-block-text",on:{click:function(s){return t.searchThisText(e)}}},[t._v(" "+t._s(e.searchText)+" ")]),i("div",{staticClass:"delete-this-search-text",on:{click:function(e){return t.deleteSearchText(o)}}},[i("img",{attrs:{src:s("fc50"),width:"20px"}})])])])})),0)])},f=[],v=(s("45fc"),s("a434"),{name:"top-box",data:function(){return{searchText:"",searchHistoryArr:[],isShowSearchHistory:!1,isDeletingSearchText:!1}},created:function(){localStorage.hasOwnProperty("serachHistoryArr")&&(this.searchHistoryArr=JSON.parse(localStorage.getItem("serachHistoryArr")))},methods:{goBack:function(){this.$router.go(-1)},goForward:function(){this.$router.go(1)},searchSong:function(){this.isShowSearchHistory=!1,""!=this.searchText&&(this.$router.push("SearchListPage"),this.$store.commit("handleSearchSong",this.searchText));var t=this.searchText;if(""!=t){var e={searchText:t,searchFrequency:1},s=!1;function i(t,e){return e.searchFrequency-t.searchFrequency}this.searchHistoryArr.some((function(e){if(e.searchText===t)return e.searchFrequency+=1,s=!0,!0})),!1===s&&(this.searchHistoryArr.length>20?(this.searchHistoryArr.pop(),this.searchHistoryArr.unshift(e)):this.searchHistoryArr.unshift(e)),this.searchHistoryArr.sort(i),localStorage.setItem("serachHistoryArr",JSON.stringify(this.searchHistoryArr)),console.log(this.searchHistoryArr)}},searchThisText:function(t){this.searchText=t.searchText,this.searchSong(),this.isShowSearchHistory=!1},hideSearchHistory:function(){var t=this;setTimeout((function(){!1===t.isDeletingSearchText&&(t.isShowSearchHistory=!1)}),200)},deleteSearchText:function(t){var e=this;this.isDeletingSearchText=!0,this.searchHistoryArr.splice(t,1),localStorage.setItem("serachHistoryArr",JSON.stringify(this.searchHistoryArr)),setTimeout((function(){e.isDeletingSearchText=!1}),500)}}}),x=v,b=(s("9aaa"),Object(u["a"])(x,g,f,!1,null,null,null)),y=b.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-box"},[s("keep-alive",[s("router-view")],1)],1)},L=[],k={name:"view-box"},I=k,C=(s("2ed1"),Object(u["a"])(I,S,L,!1,null,null,null)),w=C.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottom-box"},[i("div",{ref:"progressBox",staticClass:"progress-box",on:{click:t.setSongDot}},[i("div",{staticClass:"progress-bar"},[i("div",{staticClass:"progressed",style:{width:null==t.duration?0:t.currentTime/t.duration*760+"px"}})]),i("div",{staticClass:"slider-dot",style:{"margin-left":(null==t.duration?-6:t.currentTime/t.duration*760-6)+"px"},on:{mousedown:t.songDotDown,mousemove:t.songDotMove}},[i("div",{staticClass:"breath-dot"})])]),i("div",{staticClass:"time-box"},[t._v(t._s(t.showTime))]),i("div",{staticClass:"speed-box"},[i("div",{staticClass:"speed-text-box",attrs:{tabindex:"0"},on:{click:function(e){t.isShowSpeedOptions=!0},blur:t.hideSpeedOptions}},[i("div",{staticClass:"speed-text"},[t._v(t._s(t.speedText))]),i("img",{attrs:{src:s("ec55")}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSpeedOptions,expression:"isShowSpeedOptions"}],staticClass:"speed-options-box"},[i("div",{staticClass:"speed-option",on:{click:t.speed_2_0x}},[t._v("2.0x")]),i("div",{staticClass:"speed-option",on:{click:t.speed_1_5x}},[t._v("1.5x")]),i("div",{staticClass:"speed-option",on:{click:t.speed_1_25x}},[t._v("1.25x")]),i("div",{staticClass:"speed-option",on:{click:t.speed_1_0x}},[t._v("1.0x")]),i("div",{staticClass:"speed-option",on:{click:t.speed_0_75x}},[t._v("0.75x")]),i("div",{staticClass:"speed-option",on:{click:t.speed_0_5x}},[t._v("0.5x")])])]),i("div",{staticClass:"play-mode-box"},[i("img",{attrs:{src:t.modeStateImgUrl,tabindex:"0",width:"20px"},on:{click:function(e){t.isShowModeOptions=!0},blur:t.hideModeOptions}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowModeOptions,expression:"isShowModeOptions"}],staticClass:"mode-options-box"},[i("div",{staticClass:"mode-option",on:{click:t.listForwardMode}},[i("img",{attrs:{src:s("11fd")}}),i("div",{staticClass:"mode-option-text"},[t._v("顺序播放")])]),i("div",{staticClass:"mode-option",on:{click:t.singleCycleMode}},[i("img",{attrs:{src:s("3065")}}),i("div",{staticClass:"mode-option-text"},[t._v("单曲循环")])]),i("div",{staticClass:"mode-option",on:{click:t.listCycleMode}},[i("img",{attrs:{src:s("2ef4")}}),i("div",{staticClass:"mode-option-text"},[t._v("列表循环")])]),i("div",{staticClass:"mode-option",on:{click:t.randomMode}},[i("img",{attrs:{src:s("dd6e")}}),i("div",{staticClass:"mode-option-text"},[t._v("随机播放")])])])]),i("div",{staticClass:"mark-box"},[i("img",{attrs:{src:null===t.$store.state.currentListItem?this.markImgUrl:t.setMarkImgUrl},on:{click:t.markSong}})]),i("div",{staticClass:"play-contral-box"},[i("div",{staticClass:"previous-song",on:{click:t.playPreviousSong}},[i("img",{attrs:{src:s("00ed"),width:"40px"}})]),i("div",{staticClass:"palying-or-paused",on:{click:t.playContral}},[i("img",{attrs:{src:t.playStateImgUrl,width:"40px"}})]),i("div",{staticClass:"next-song",on:{click:t.playNextSong}},[i("img",{attrs:{src:s("57d8"),width:"40px"}})])]),i("div",{staticClass:"volume-box"},[i("img",{attrs:{src:t.volumeStateImgUrl,width:"24px"},on:{click:t.mute}}),i("div",{staticClass:"volume-percentage"},[t._v(" "+t._s(parseInt(t.volumeDotX/120*100)+"%")+" ")]),i("div",{ref:"volumeAdjustBox",staticClass:"volume-adjust-box",on:{click:t.setVolumeDot}},[i("div",{staticClass:"volume-adjust-bar"},[i("div",{staticClass:"volume-progressed",style:{width:t.volumeDotX+"px"}})]),i("div",{staticClass:"slider-dot",style:{"margin-left":t.volumeDotX-6+"px"},on:{mousedown:t.volumeDotDown,mousemove:t.volumeDotMove}},[i("div",{staticClass:"breath-dot"})])])]),i("audio",{attrs:{id:"audio",src:this.$store.state.currentSongUrl,autoplay:""}})])},T=[],_=(s("d3b7"),s("25f0"),s("2b19"),s("bc3a")),D=s.n(_);function U(t){var e=D.a.create({baseURL:Object.is("production","production")?"https://api.zsfmyz.top/music/":"/apis/",timeout:5e3});return e(t)}var $={name:"bottom-box",data:function(){return{audio:null,currentTime:null,duration:null,isSongDotMovable:!1,isVolumeDotMovable:!1,songDotX:null,volumeDotX:24,playStateImgUrl:s("bc54"),playingImgUrl:s("803f"),pausedImgUrl:s("bc54"),volumeStateImgUrl:s("865e"),volumeImgUrl:s("865e"),volumeMuteImgUrl:s("395d"),modeStateImgUrl:s("11fd"),listForwardImgUrl:s("11fd"),singleCycleImgUrl:s("3065"),listCycleImgUrl:s("2ef4"),randomImgUrl:s("dd6e"),markImgUrl:s("c384"),markedImgUrl:s("c1b2"),isMuteNow:!1,speedText:"倍速",playSpeed:1,isShowSpeedOptions:!1,isShowModeOptions:!1}},computed:{showTime:function(){var t=Math.floor(this.currentTime/60),e=parseInt(this.currentTime%60),s=Math.floor(this.duration/60),i=parseInt(this.duration%60);return t+="",e+="",s+="",i+="",t=1==t.length?"0"+t:t,e=1==e.length?"0"+e:e,s=1==s.length?"0"+s:s,i=1==i.length?"0"+i:i,t+":"+e+"/"+s+":"+i},setMarkImgUrl:function(){for(var t=!1,e=0;e<this.$store.state.markedList.length;e++)if(this.$store.state.currentList[this.$store.state.currentListIndex].songmid===this.$store.state.markedList[e].songmid){t=!0;break}return!0===t?this.markedImgUrl:this.markImgUrl}},methods:{addAudioEventListeners:function(){this.audio.addEventListener("canplay",this.getDuration),this.audio.addEventListener("timeupdate",this.getCurrentTime),this.audio.addEventListener("ended",this.autoPlayNextSong)},getDuration:function(){this.duration=this.audio.duration,this.playStateImgUrl=this.playingImgUrl,this.audio.playbackRate=this.playSpeed,this.$store.commit("sendHaveStarted",!0),this.$store.commit("albumRotateRunning")},getCurrentTime:function(){this.currentTime=this.audio.currentTime,this.$store.commit("sendCurrentTime",this.currentTime)},changeCurrentTime:function(t){this.audio.currentTime=t},speed_2_0x:function(){this.playSpeed=2,this.audio.playbackRate=this.playSpeed,this.speedText="2x",this.isShowSpeedOptions=!1},speed_1_5x:function(){this.playSpeed=1.5,this.audio.playbackRate=this.playSpeed,this.speedText="1.5x",this.isShowSpeedOptions=!1},speed_1_25x:function(){this.playSpeed=1.25,this.audio.playbackRate=this.playSpeed,this.speedText="1.25x",this.isShowSpeedOptions=!1},speed_1_0x:function(){this.playSpeed=1,this.audio.playbackRate=this.playSpeed,this.speedText="1x",this.isShowSpeedOptions=!1},speed_0_75x:function(){this.playSpeed=.75,this.audio.playbackRate=this.playSpeed,this.speedText="0.75x",this.isShowSpeedOptions=!1},speed_0_5x:function(){this.playSpeed=.5,this.audio.playbackRate=this.playSpeed,this.speedText="0.5x",this.isShowSpeedOptions=!1},hideSpeedOptions:function(){var t=this;setTimeout((function(){t.isShowSpeedOptions=!1}),200)},listForwardMode:function(){this.$store.commit("sendListForwardMode"),this.modeStateImgUrl=this.listForwardImgUrl},singleCycleMode:function(){this.$store.commit("sendSingleCycleMode"),this.modeStateImgUrl=this.singleCycleImgUrl},listCycleMode:function(){this.$store.commit("sendListCycleMode"),this.modeStateImgUrl=this.listCycleImgUrl},randomMode:function(){this.$store.commit("sendRandomMode"),this.modeStateImgUrl=this.randomImgUrl},hideModeOptions:function(){var t=this;setTimeout((function(){t.isShowModeOptions=!1}),200)},markSong:function(){0!=this.$store.state.currentList.length&&this.$store.commit("sendMarkedSong",this.$store.state.currentList[this.$store.state.currentListIndex])},playPreviousSong:function(){var t=this;"randomMode"==this.$store.state.playMode?this.$store.commit("handleRandomMode"):this.$store.commit("playPreviousSong"),setTimeout((function(){t.audio.playbackRate=t.playSpeed}),1e3)},playContral:function(){0!=this.$store.state.currentList.length&&(this.audio.paused?(this.audio.play(),this.playStateImgUrl=this.playingImgUrl,this.$store.commit("albumRotateRunning")):(this.audio.pause(),this.playStateImgUrl=this.pausedImgUrl,this.$store.commit("albumRotatePaused")))},autoPlayNextSong:function(){var t=this;switch(this.$store.state.playMode){case"listForwardMode":this.$store.commit("playNextSong");break;case"singleCycleMode":this.audio.play();break;case"listCycleMode":this.$store.commit("playNextSong");break;case"randomMode":this.$store.commit("handleRandomMode"),console.log("randomMode");break}setTimeout((function(){t.audio.playbackRate=t.playSpeed}),1e3)},playNextSong:function(){var t=this;"randomMode"==this.$store.state.playMode?this.$store.commit("handleRandomMode"):this.$store.commit("playNextSong"),setTimeout((function(){t.audio.playbackRate=t.playSpeed}),1e3)},songDotDown:function(t){this.isSongDotMovable=!0,this.audio.removeEventListener("timeupdate",this.getCurrentTime),this.audio.volume=0},songDotMove:function(t){this.isSongDotMovable&&(this.songDotX=t.x-this.$refs.progressBox.getBoundingClientRect().left,this.songDotX<0&&(this.songDotX=0),this.songDotX>760&&(this.songDotX=760),this.audio.currentTime=this.songDotX/760*this.duration,this.audio.addEventListener("timeupdate",this.getCurrentTime))},setSongDot:function(t){this.songDotX=t.x-this.$refs.progressBox.getBoundingClientRect().left,this.audio.currentTime=this.songDotX/760*this.duration,this.audio.play()},volumeDotDown:function(t){this.isVolumeDotMovable=!0},volumeDotMove:function(t){this.isVolumeDotMovable&&(this.volumeDotX=t.x-this.$refs.volumeAdjustBox.getBoundingClientRect().left,this.volumeDotX<0&&(this.volumeDotX=0),this.volumeDotX>120&&(this.volumeDotX=120),this.audio.volume=this.volumeDotX/120)},setVolumeDot:function(t){this.volumeDotX=t.x-this.$refs.volumeAdjustBox.getBoundingClientRect().left,this.volumeDotX<0&&(this.volumeDotX=0),this.volumeDotX>120&&(this.volumeDotX=120),this.audio.volume=this.volumeDotX/120},mouseUp:function(){this.isSongDotMovable=!1,this.isVolumeDotMovable=!1,this.audio.volume=this.volumeDotX/120,localStorage.setItem("volumeDotX",this.volumeDotX.toString())},mute:function(){0==this.isMuteNow?(this.audio.volume=0,this.lastVolumeDotX=this.volumeDotX,this.volumeDotX=0,this.isMuteNow=!0,this.volumeStateImgUrl=this.volumeMuteImgUrl):(this.volumeDotX=this.lastVolumeDotX,this.audio.volume=this.volumeDotX/120,this.isMuteNow=!1,this.volumeStateImgUrl=this.volumeImgUrl)}},mounted:function(){localStorage.hasOwnProperty("volumeDotX")&&(this.volumeDotX=parseInt(localStorage.getItem("volumeDotX")));var t=document.querySelector("#audio");this.audio=t,this.audio.volume=this.volumeDotX/120,this.audio.playbackRate=this.playSpeed,this.addAudioEventListeners(),this.globalMouseUp(this.mouseUp)}},A=$,P=(s("cf7f"),Object(u["a"])(A,M,T,!1,null,null,null)),O=P.exports,X={name:"middle-box",components:{TopBox:y,BottomBox:O,ViewBox:w}},R=X,H=(s("4b2a"),Object(u["a"])(R,m,p,!1,null,null,null)),j=H.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right-bar"})},E=[],B={name:"right-bar"},q=B,F=Object(u["a"])(q,N,E,!1,null,null,null),V=F.exports,J={name:"app",components:{LeftNav:h,MiddleBox:j,RightBar:V},data:function(){return{defaultAlbumImgUrl:s("0687"),albumImgUrl:null,bgStyle:{}}},computed:{getBgStyle:function(){var t=this;return 0==this.$store.state.currentList.length||"   "==this.$store.state.currentList[this.$store.state.currentListIndex].albumname?this.albumImgUrl=this.defaultAlbumImgUrl:this.albumImgUrl=this.$store.state.currentList[this.$store.state.currentListIndex].albumimg,setTimeout((function(){t.bgStyle={"background-image":"url("+t.albumImgUrl+")"}}),1500),this.bgStyle}},mounted:function(){this.$store.commit("initData"),this.$router.push("Top100Page")}},z=J,K=(s("034f"),Object(u["a"])(z,o,r,!1,null,null,null)),G=K.exports,Q=s("8c4f");i["default"].use(Q["a"]);var W=function(){return s.e("chunk-83846b1c").then(s.bind(null,"a729"))},Y=function(){return s.e("chunk-0a530845").then(s.bind(null,"d8da"))},Z=function(){return s.e("chunk-c36bbb52").then(s.bind(null,"2c3e"))},tt=function(){return s.e("chunk-fd20071e").then(s.bind(null,"4bad"))},et=[{path:"/Top100Page",component:Y},{path:"/SearchListPage",component:W},{path:"/MarkedListPage",component:Z},{path:"/LyricPage",component:tt}],st=new Q["a"]({routes:et}),it=st,ot=(s("4160"),s("c975"),s("b680"),s("ac1f"),s("1276"),s("159b"),s("2909")),rt=s("2f62"),nt=s("5c96"),at=s.n(nt);function ct(t,e){return U({url:"list",params:{p:e,n:50,w:t}})}function lt(){return U({url:"top"})}i["default"].use(rt["a"]);var ut=new rt["a"].Store({state:{searchList:[],searchListIndex:null,isSearchPageActive:!1,top100List:[],top100ListIndex:null,isTop100PageActive:!1,currentList:[],currentListItem:null,currentListIndex:null,currentSongUrl:"",playMode:"listForwardMode",haveStarted:!1,albumImgStyle:{},markedList:[],markedListIndex:null,isMarkedPageActive:!1,haveSearched:!1,searchText:"",currentPage:1,loadMoreText:"加载更多",canLoadMore:!0,lyricTextArr:[],currentTime:null},mutations:{initData:function(t){localStorage.hasOwnProperty("markedList")&&(t.markedList=JSON.parse(localStorage.getItem("markedList")))},sendSearchListIndex:function(t,e){t.searchListIndex=e,t.currentListIndex=e,t.currentList=t.searchList,t.currentListItem=t.currentList[t.currentListIndex]},sendTop100ListIndex:function(t,e){t.top100ListIndex=e,t.currentListIndex=e,t.currentList=t.top100List,t.currentListItem=t.currentList[t.currentListIndex]},sendMarkedListIndex:function(t,e){t.markedListIndex=e,t.currentListIndex=e,t.currentList=t.markedList,t.currentListItem=t.currentList[t.currentListIndex]},sendSearchPageActive:function(t){t.isSearchPageActive=!0,t.isTop100PageActive=!1,t.isMarkedPageActive=!1},sendTop100PageActive:function(t){t.isTop100PageActive=!0,t.isSearchPageActive=!1,t.isMarkedPageActive=!1},sendMarkedPageActive:function(t){t.isMarkedPageActive=!0,t.isSearchPageActive=!1,t.isTop100PageActive=!1},sendListForwardMode:function(t){t.playMode="listForwardMode"},sendSingleCycleMode:function(t){t.playMode="singleCycleMode"},sendListCycleMode:function(t){t.playMode="listCycleMode"},sendRandomMode:function(t){t.playMode="randomMode"},sendHaveStarted:function(t,e){t.haveStarted=e},sendCurrentTime:function(t,e){t.currentTime=e},sendMarkedSong:function(t,e){if(0===t.markedList.length)t.markedList.push(e);else{for(var s=!1,i=0;i<t.markedList.length;i++)if(t.markedList[i].songmid===e.songmid){t.markedList.splice(i,1),s=!0,t.isMarkedPageActive&&(t.currentList=t.markedList,t.currentListIndex-=1,t.markedListIndex-=1,t.currentListIndex<0&&(t.currentListIndex=0,t.markedListIndex=0),0!=t.currentList.length&&this.commit("requestSongUrl"));break}!1===s&&t.markedList.unshift(e)}localStorage.setItem("markedList",JSON.stringify(t.markedList))},albumRotateRunning:function(t){t.albumImgStyle={animation:"albumRotate 20s linear infinite running"}},albumRotatePaused:function(t){t.albumImgStyle={animation:"albumRotate 20s linear infinite paused"}},handleTop100List:function(t){lt().then((function(e){t.top100List=e.data.data.list})).catch((function(t){console.log(t)}))},handleSearchSong:function(t,e){t.searchText=e,ct(t.searchText,1).then((function(e){console.log(e),t.searchList=e.data.data.list,t.haveSearched=!0})).catch((function(t){console.log(t)}))},handleLoadMore:function(t){t.canLoadMore&&(t.currentPage+=1,ct(t.searchText,t.currentPage).then((function(e){console.log(e.data.data.list);var s,i,o=e.data.data.list;o.length<50?(t.loadMoreText="已到达底线，再也加载不出来了",(s=t.searchList).push.apply(s,Object(ot["a"])(e.data.data.list)),t.canLoadMore=!1):(i=t.searchList).push.apply(i,Object(ot["a"])(e.data.data.list))})).catch((function(t){console.log(t)})))},handleRandomMode:function(t){var e=Math.floor(Math.random()*t.currentList.length);t.currentListIndex=e,t.isSearchPageActive&&(t.searchListIndex=t.currentListIndex),t.isTop100PageActive&&(t.top100ListIndex=t.currentListIndex),t.isMarkedPageActive&&(t.markedListIndex=t.currentListIndex),this.commit("requestSongUrl")},requestSongUrl:function(t){var e=this;U({url:"song",params:{songmid:t.currentList[t.currentListIndex].songmid,guid:"126548448",lyric:1}}).then((function(s){t.currentSongUrl=s.data.data.musicUrl,"https://ws.stream.qqmusic.qq.com/"==t.currentSongUrl&&(nt["Message"].error({message:"无法获取音乐资源，可能为付费音乐或其他原因",showClose:!0}),e.commit("albumRotatePaused"));var i=s.data.data.lyric,o=i.split("\n");o.splice(0,5),t.lyricTextArr=[],o.forEach((function(e){var s=e.substring(e.indexOf("[")+1,e.indexOf("]")),i={time:(60*s.split(":")[0]+parseFloat(s.split(":")[1])).toFixed(2),text:e.substring(e.indexOf("]")+1,e.length)};t.lyricTextArr.push(i)}))})).catch((function(t){console.log(t)}))},handleLyric:function(t){},playPreviousSong:function(t){t.isSearchPageActive&&(t.searchListIndex-=1,t.searchListIndex<0&&(t.searchListIndex=0)),t.isTop100PageActive&&(t.top100ListIndex-=1,t.top100ListIndex<0&&(t.top100ListIndex=0)),t.isMarkedPageActive&&(t.markedListIndex-=1,t.markedListIndex<0&&(t.markedListIndex=0)),t.currentListIndex-=1,t.currentListIndex>=0?this.commit("requestSongUrl"):t.currentListIndex=0},playCurrentSong:function(){this.commit("requestSongUrl")},playNextSong:function(t){t.isSearchPageActive&&(t.searchListIndex+=1,t.searchListIndex>t.searchList.length-1&&(t.searchListIndex=t.searchList.length-1)),t.isTop100PageActive&&(t.top100ListIndex+=1,t.top100ListIndex>t.top100List.length-1&&(t.top100ListIndex=t.top100List.length-1)),t.isMarkedPageActive&&(t.markedListIndex+=1,t.markedListIndex>t.markedList.length-1&&(t.markedListIndex=t.markedList.length-1)),t.currentListIndex+=1,t.currentListIndex<t.currentList.length?this.commit("requestSongUrl"):"listCycleMode"==t.playMode?(t.currentListIndex=0,this.commit("requestSongUrl")):(t.currentListIndex=t.currentList.length-1,this.commit("albumRotatePaused"))}},actions:{},modules:{}});s("f5df1"),s("0fae");i["default"].use(at.a),i["default"].config.productionTip=!1,i["default"].prototype.globalMouseUp=function(t){document.onmouseup=function(){t()}};var dt=Q["a"].prototype.push;Q["a"].prototype.push=function(t){return dt.call(this,t).catch((function(t){return t}))},new i["default"]({router:it,store:ut,render:function(t){return t(G)}}).$mount("#app")},"57d8":function(t,e,s){t.exports=s.p+"img/next-song.e7081bed.svg"},"803f":function(t,e,s){t.exports=s.p+"img/playing.08b97a74.svg"},"85ec":function(t,e,s){},8620:function(t,e,s){t.exports=s.p+"img/forward.9ec5087d.svg"},"865e":function(t,e,s){t.exports=s.p+"img/volume.ec43eaa4.svg"},"8b36":function(t,e,s){t.exports=s.p+"img/discover.d8c02d91.svg"},"9aaa":function(t,e,s){"use strict";var i=s("2e0a"),o=s.n(i);o.a},"9b19":function(t,e,s){t.exports=s.p+"img/logo.546bcfba.svg"},b04c:function(t,e,s){"use strict";var i=s("ed4a"),o=s.n(i);o.a},b577:function(t,e,s){},bc54:function(t,e,s){t.exports=s.p+"img/paused.ce8b9230.svg"},c1b2:function(t,e,s){t.exports=s.p+"img/marked.2475d34a.svg"},c384:function(t,e,s){t.exports=s.p+"img/mark.61fcf41f.svg"},ccfe:function(t,e,s){t.exports=s.p+"img/back.932e2c1c.svg"},cf7f:function(t,e,s){"use strict";var i=s("11ad"),o=s.n(i);o.a},d0c9:function(t,e,s){},dd6e:function(t,e,s){t.exports=s.p+"img/random.59c240fa.svg"},ec55:function(t,e,s){t.exports=s.p+"img/arrow-up.efe810cd.svg"},ed4a:function(t,e,s){},fc50:function(t,e,s){t.exports=s.p+"img/delete-search-text.783af410.svg"}});
//# sourceMappingURL=app.8b8b1d47.js.map